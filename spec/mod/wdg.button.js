require("wdg.button",function(e,t,n){function i(){return r(a,arguments)}function o(e,t){"undefined"==typeof t&&(t="standard");var n=e,o=e;"yes"==o&&(n="ok"),"no"==o&&(n="cancel");var a=new d({text:i(o),icon:n,value:e,type:t});return a}var a={en:{cancel:"Cancel",close:"Close",delete:"Delete",edit:"Edit",no:"No",ok:"OK",save:"Save",yes:"Yes"},fr:{cancel:"Annuler",close:"Fermer",delete:"Supprimer",edit:"Editer",no:"Non",ok:"Valider",save:"Sauver",yes:"Oui"}},r=e("$").intl,s=e("dom"),l=e("tfw.data-binding"),c=e("wdg.icon"),u=["standard","simple","warning","shadow","special"],d=function(e){var t=this,n=s.elem(this,"string"==typeof e.href?"a":"button","wdg-button","theme-elevation-2");"string"==typeof e.href&&e.href.length>0&&s.att(n,"href",e.href),"string"==typeof e.target&&e.target.length>0&&s.att(n,"target",e.target);var i=null,o=function(){s.clear(n),i?(s.add(n,i.element,t.text),t._icon=i):(n.textContent=t.text,delete t._icon)};l.prop(this,"value"),l.propEnum(u)(this,"type")(function(e){u.forEach(function(e){s.removeClass(n,e)}),s.addClass(n,e)}),l.prop(this,"icon")(function(e){i=!e||"string"==typeof e&&0==e.trim().length?null:e.element?e.element:new c({content:e,size:"1.2em"}),o()}),l.propString(this,"text")(function(e){o()}),l.propBoolean(this,"enabled")(function(e){e?s.removeAtt(n,"disabled"):s.att(n,"disabled","yes")}),l.propBoolean(this,"small")(function(e){e?s.addClass(n,"small"):s.removeClass(n,"small")}),l.prop(this,"action",0),l.propAddClass(this,"wide"),l.propRemoveClass(this,"visible","hide"),e=l.extend({text:"OK",href:null,target:null,value:"action",action:0,icon:"",small:!1,enabled:!0,wide:!1,visible:!0,type:"standard"},e,this),s.on(this.element,{down:function(e){t.enabled&&(s.addClass(n,"theme-elevation-8"),e.stopPropagation(),e.preventDefault())},up:function(){s.removeClass(n,"theme-elevation-8")},tap:t.fire.bind(t),keydown:function(e){13!=e.keyCode&&32!=e.keyCode||(e.preventDefault(),e.stopPropagation(),t.fire())}})};d.prototype.on=function(e){return l.bind(this,"action",e)},d.prototype.fire=function(){if(this.enabled){var e=this.href;"string"==typeof e&&0!=e.trim().length||l.fire(this,"action",this.value)}},d.prototype.waitOn=function(e){"undefined"==typeof this._backup&&(this._backup={text:this.text,icon:this.icon,enabled:this.enabled}),"string"==typeof e&&(this.text=e),this.enabled=!1,this.icon="wait",this._icon&&(this._icon.rotate=!0)},d.prototype.waitOff=function(){this.text=this._backup.text,this.icon=this._backup.icon,this.enabled=this._backup.enabled,this._icon&&(this._icon.rotate=!1),delete this._backup},d.Cancel=function(e){return o("cancel",e||"simple")},d.Close=function(){return o("close","simple")},d.Delete=function(){return o("delete","warning")},d.No=function(){return o("no")},d.Ok=function(e){return o("ok",e||"default")},d.Edit=function(){return o("edit")},d.Save=function(){return o("save","special")},d.Yes=function(e){return o("yes",e||"default")},d.default={caption:"OK",type:"default"},t.exports=d,t.exports._=i});
//# sourceMappingURL=wdg.button.js.map