require("tfw.timer",function(t,i,e){function n(){return r(o,arguments)}var o={en:{}},r=t("$").intl;t("polyfill.promise"),e.later=function(t){return"undefined"==typeof t&&(t=1),new Promise(function(i,e){window.setTimeout(i,t)})};var u=function(t,i){"number"!=typeof i&&(i=300),i<0&&(i=0);this.enabled=!0,this.waiting=!1,this.action=t,this.delay=i,this.timer=0};u.prototype.dbg=function(t){console.log((this.enabled?"E":"e")+(this.waiting?"W":"w")+": "+t)},u.prototype.fire=function(){var t=this;if(this.timer&&window.clearTimeout(this.timer),this.enabled){this.waiting=!1;var i=function(){t.enabled=!0,t.waiting&&t.fire()};this.timer=window.setTimeout(function(){t.timer=0,t.enabled=!1,t.action().then(i,i)},t.delay)}else this.waiting=!0};var s=function(t,i){"number"!=typeof i&&(i=300),i<0&&(i=100);this.action=t,this.delay=i,this.timer=0};s.prototype.fire=function(){var t=this;this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(function(){t.timer=0,t.enabled=!1,t.action()},t.delay)};var a=function(){this._timer=null,this._action=null};a.prototype.fire=function(t,i){var e=this;return this._timer||(t(),this._timer=window.setTimeout(function(){e._timer=null},i)),this},e.laterPromise=function(t,i){return new u(function(){return new Promise(t)},i)},e.laterAction=function(t,i){return new s(t,i)},e.longAction=function(){return new a},i.exports._=n});
//# sourceMappingURL=tfw.timer.js.map