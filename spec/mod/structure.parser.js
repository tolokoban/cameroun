require("structure.parser",function(r,t){function e(){return u(n,arguments)}function i(r){r=r.trim();var t={children:{}},e=a.exec(r);return e[1]&&(t.id=e[1].trim()),e[2]&&(t.caption=e[2].trim()),e[3]&&(t.type=e[3].substr(1,e[3].length-2).trim()),e[4]&&(t.tags=e[4].trim().substr(1).split("\n").map(function(r){return r.trim()})),t.id||(t.id=t.caption),t}var n={en:{},fr:{}},u=require("$").intl,a=/^(#[A-Z0-9-]+)?([^\(@]*)(\([^\)]*\)\+?)?(@[A-Z0-9,-]+)?/;r.parse=function(r){var t={},e=[t];return r.split("\n").forEach(function(r,t){try{if(r=r.trim(),0==r.length)return;if("//"==r.substr(0,2))return;for(var n=1;"*"==r.charAt(0);)r=r.substr(1),n++;r=r.trim();var u;if(n>e.length)throw"Vous avez sauté au moins un niveau hiérarchique: `"+r+"` !\nVous étiez au niveau "+(e.levels-1)+" et vous définissez maintenant le niveau "+n+".";for(;e.length>n;)e.pop();if(u=i(r),"undefined"!=typeof e[e.length-1][u.id])throw"Vous avez déjà déclaré cet identifiant : `"+u.id+"` !";e[e.length-1][u.id]=u,delete u.id,e.push(u.children)}catch(r){throw{lineNumber:t+1,message:r}}}),t},r.get=function(t,e){if(!Array.isArray(e)||0==e.length)return t;if("undefined"==typeof t)return t;var i=e.shift();if("@"==i.charAt(0)){var n,u;for(n in t)if(u=t[n],Array.isArray(u.tags)&&u.tags.indexOf(i.substr(1))>-1)return r.get(u.children,e);return null}return r.get(t[i].children,e)},t.exports._=e});
//# sourceMappingURL=structure.parser.js.map