require("structure.parser",function(r,e){function t(){return u(i,arguments)}function n(r){r=r.trim();var e={children:{}},t=a.exec(r);return t[2]&&(e.caption=t[2].trim()),t[1]?e.id=t[1].trim():e.id=e.caption.toUpperCase(),t[3]&&(e.type=t[3].substr(1,t[3].length-2).trim()),t[4]&&(e.tags=t[4].trim().substr(1).split("\n").map(function(r){return r.trim()})),e}var i={en:{},fr:{}},u=require("$").intl,a=/^(#[A-Z0-9-]+)?([^\(@]*)(\([^\)]*\)\+?)?(@[A-Z0-9,-]+)?/;r.parse=function(r){var e={},t=[e];return r.split("\n").forEach(function(r,e){try{if(r=r.trim(),0==r.length)return;if("//"==r.substr(0,2))return;if("*"!=r.charAt(0))throw"Une ligne non vide et non commentée doit toujours commencer par au moins une astérisque pour indiquer le niveau hiérarchique.";for(var i=0;"*"==r.charAt(0);)r=r.substr(1),i++;r=r.trim();var u;if(i>t.length)throw"Vous avez sauté au moins un niveau hiérarchique: `"+r+"` !\nVous étiez au niveau "+(t.levels-1)+" et vous définissez maintenant le niveau "+i+".";for(;t.length>i;)t.pop();if(u=n(r),"undefined"!=typeof t[t.length-1][u.id])throw"Vous avez déjà déclaré cet identifiant : `"+u.id+"` !";t[t.length-1][u.id]=u,t.push(u.children)}catch(r){throw{lineNumber:e+1,message:r}}}),e},r.get=function(e,t){if(!Array.isArray(t)||0==t.length)return e;if("undefined"==typeof e)return e;var n=t.shift();if("@"==n.charAt(0)){var i,u;for(i in e)if(u=e[i],Array.isArray(u.tags)&&u.tags.indexOf(n.substr(1))>-1)return r.get(u.children,t);return null}return r.get(e[n].children,t)},e.exports._=t});
//# sourceMappingURL=structure.parser.js.map