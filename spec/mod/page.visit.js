require("page.visit",function(t,n,i){function e(t,n){if(void 0!==n){var i,o,l,c;for(i in n)o=n[i],"#"==i.charAt(0)?l=new r({def:o,patient:a}):(c=s.div(),l=new d({label:o.caption,content:[c],simple:!0,value:!1}),e(c,o.children)),s.add(t,l)}}var a,o=function(){function n(){return e(i,arguments)}var i={en:{},fr:{}},e=t("$").intl;return n.all=i,n}(),s=t("dom"),r=(t("form"),t("wdg.modal"),t("input")),l=t("format"),c=t("patients"),d=t("wdg.showhide"),u=t("date"),f=t("structure");i.onPage=function(){var t=location.hash.split("/"),n=t[1];c.get(n).then(function(t){a=t,document.getElementById("visit.title").textContent=l.getPatientCaption(t.data);var n=document.getElementById("visit.data");s.clear(n),e(n,f.value.forms)})},i.onClose=function(){c.lastVisit(a).exit=u.now(),c.save(a),location.hash="#Home"},i.onNewVisit=function(){c.createVisit().then(function(t){var n=a.admissions.length,i=a.admissions[n-1];location.hash="#Visit/"+a.id+"/"+(n-1)+"/"+(i.visits.length-1)})},n.exports._=o});
//# sourceMappingURL=page.visit.js.map