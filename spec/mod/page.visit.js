require("page.visit",function(t,n,i){function e(t,n){if(void 0!==n){var i,o,r,d;for(i in n)o=n[i],"#"==i.charAt(0)?r=new c({def:o,patient:a}):(d=s.div(),r=new l({label:o.caption,content:[d],simple:!0,value:!1}),e(d,o.children)),s.add(t,r)}}var a,o=function(){function n(){return e(i,arguments)}var i={en:{},fr:{}},e=t("$").intl;return n.all=i,n}(),s=t("dom"),c=(t("form"),t("wdg.modal"),t("input")),r=t("format"),d=t("patients"),l=t("wdg.showhide"),u=t("date"),f=t("structure");i.onPage=function(){var t=location.hash.split("/"),n=t[1];d.get(n).then(function(t){a=t,document.getElementById("visit.title").textContent=r.getPatientCaption(t.data);var n=document.getElementById("visit.data");s.clear(n),e(n,f.value.forms)})},i.onClose=function(){d.lastVisit(a).exit=u.now(),d.save(a),location.hash="#Patient/"+a.id},i.onBack=function(){location.hash="#Patient/"+a.id},i.onNewVisit=function(){d.createVisit().then(function(t){var n=a.admissions.length,i=a.admissions[n-1];location.hash="#Visit/"+a.id+"/"+(n-1)+"/"+(i.visits.length-1)})},n.exports._=o});
//# sourceMappingURL=page.visit.js.map