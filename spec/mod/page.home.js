require("page.home",function(e,t,n){var a=function(){function t(){return a(n,arguments)}var n={en:{},fr:{}},a=e("$").intl;return t.all=n,t}(),r=e("dom"),o=e("tfw.data-binding"),i=e("$").config,u=e("form"),d=e("data"),l=e("format"),s=e("wdg.button"),c=e("structure"),f=e("tfw.local-download");n.onPage=function(){r("version").textContent="Version "+i.version+" - "+i.date.substr(0,10);var e=c.patient,t=new u(e),n=document.getElementById("search-form");r.clear(n);var a=document.getElementById("search-result");r.clear(a);var f=document.getElementById("search-button");r.clear(f),r.add(n,t),t.focus=!0;var v=new s({text:"Enregistrer un nouveau patient",enabled:!1,icon:"plus"});r.add("search-button",v),o.bind(t,"value",function(n){var o=d.findPatients(n);r.clear(a),o.length>0&&o.forEach(function(e){var t=d.getPatient(e),n=new s({type:"simple",text:l.getPatientCaption(t),href:"#Patient/"+e,wide:!0});r.add(a,r.tag("li",[n]))});var i,u,c=t.keys;v.enabled=!0,v.visible=!0;for(var f=0;f<c.length;f++)if(i=c[f],!(Array.isArray(e[i].tags)&&e[i].tags.indexOf("OPTIONAL")>-1||(u=n[i],u&&0!=u.trim().length)))return void(v.enabled=!1)}),v.on(function(){var e=d.newPatient(t.value);location.hash="Patient/"+e})},n.onExport=function(){var e=d.export();f.saveAs(e,"base.json","application/json")},t.exports._=a});
//# sourceMappingURL=page.home.js.map