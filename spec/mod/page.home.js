require("page.home",function(e,t,n){function a(){return o(r,arguments)}var r={en:{},fr:{}},o=e("$").intl,i=e("dom"),d=e("tfw.data-binding"),l=e("form"),u=e("data"),c=e("format"),s=e("wdg.button"),f=e("structure"),v=e("tfw.local-download");n.onPage=function(){var e=f.patient,t=new l(e),n=document.getElementById("search-form");i.clear(n);var a=document.getElementById("search-result");i.clear(a);var r=document.getElementById("search-button");i.clear(r),i.add(n,t),t.focus=!0;var o=new s({text:"Enregistrer un nouveau patient",enabled:!1,icon:"plus"});i.add("search-button",o),d.bind(t,"value",function(n){var r=u.findPatients(n);i.clear(a),r.length>0&&r.forEach(function(e){var t=u.getPatient(e),n=new s({type:"simple",text:c.getPatientCaption(t),href:"#Patient/"+e,wide:!0});i.add(a,i.tag("li",[n]))});var d,l,f=t.keys;o.enabled=!0,o.visible=!0;for(var v=0;v<f.length;v++)if(d=f[v],!(Array.isArray(e[d].tags)&&e[d].tags.indexOf("OPTIONAL")>-1||(l=n[d],l&&0!=l.trim().length)))return void(o.enabled=!1)}),o.on(function(){var e=u.newPatient(t.value);location.hash="Patient/"+e})},n.onExport=function(){var e=u.export();v.saveAs(e,"base.json","application/json")},t.exports._=a});
//# sourceMappingURL=page.home.js.map