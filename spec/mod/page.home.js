require("page.home",function(e,t,n){var a=function(){function t(){return a(n,arguments)}var n={en:{},fr:{}},a=e("$").intl;return t.all=n,t}(),r=e("dom"),o=e("tfw.data-binding"),i=e("form"),l=e("data"),u=e("format"),d=e("wdg.button"),c=e("structure"),s=e("tfw.local-download");n.onPage=function(){var e=c.patient,t=new i(e),n=document.getElementById("search-form");r.clear(n);var a=document.getElementById("search-result");r.clear(a);var s=document.getElementById("search-button");r.clear(s),r.add(n,t),t.focus=!0;var f=new d({text:"Enregistrer un nouveau patient",enabled:!1,icon:"plus"});r.add("search-button",f),o.bind(t,"value",function(n){var o=l.findPatients(n);r.clear(a),o.length>0&&o.forEach(function(e){var t=l.getPatient(e),n=new d({type:"simple",text:u.getPatientCaption(t),href:"#Patient/"+e,wide:!0});r.add(a,r.tag("li",[n]))});var i,c,s=t.keys;f.enabled=!0,f.visible=!0;for(var v=0;v<s.length;v++)if(i=s[v],!(Array.isArray(e[i].tags)&&e[i].tags.indexOf("OPTIONAL")>-1||(c=n[i],c&&0!=c.trim().length)))return void(f.enabled=!1)}),f.on(function(){var e=l.newPatient(t.value);location.hash="Patient/"+e})},n.onExport=function(){var e=l.export();s.saveAs(e,"base.json","application/json")},t.exports._=a});
//# sourceMappingURL=page.home.js.map