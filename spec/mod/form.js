require("form",function(e,t,n){function i(){return a(r,arguments)}function o(e,t){var n,i,o,r,a,d=this,s=[],p=function(e){if(!d._lockValueGet){var t={};s.forEach(function(e){var n=e.value.trim(),i=e.$map[n.toLowerCase()];"undefined"!=typeof i&&(n=i),""!=n&&(t[e.$id]=n)}),d._lockValueSet=!0,d.value=t,d._lockValueSet=!1}};for(n in t)i=t[n],a=u(i.type),r=new l({wide:!0,list:a.list}),r.$id=n,r.$map=a.map,s.push(r),o=f.div([f.div([i.caption]),f.div([r])]),f.add(e,o),c.bind(r,"value",p);var v;for(v=0;v<s.length-1;v++)c.bind(s[v],"action",s[v+1],"focus",{value:!0});return s}function u(e){if("undefined"==typeof e)return p;if(e=d.types[e],"undefined"==typeof e)return p;if(e=e.children,"undefined"==typeof e)return p;var t,n,i=[],o={};for(t in e)n=e[t],i.push(n.caption),o[n.caption.toLowerCase()]=t;return i.sort(),{list:i,map:o}}var r={en:{},fr:{}},a=e("$").intl,f=e("dom"),c=e("tfw.data-binding"),l=e("wdg.text"),d=e("structure"),s=function(e){var t=this,n=f.elem(this,"div","form"),i=f.div("table");f.add(n,i);var u=o.call(this,i,e);this._lockValueSet=!1,this._lockValueGet=!1,c.prop(this,"value")(function(e){t._lockValueSet||(t._lockValueGet=!0,u.forEach(function(t){t.value=e[t.$id]||""}),t._lockValueGet=!1)}),c.propBoolean(this,"focus")(function(e){e?window.setTimeout(function(){u[0].focus=!0}):u.forEach(function(e){e.focus=!1})}),Object.defineProperty(s.prototype,"keys",{get:function(){var e=[];return u.forEach(function(t){e.push(t.$id)}),e},set:function(e){},configurable:!0,enumerable:!0})},p={list:[],map:{}};t.exports=s,t.exports._=i});
//# sourceMappingURL=form.js.map