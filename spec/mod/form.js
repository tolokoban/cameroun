require("form",function(e,t,n){function i(e,t){var n,i,u,c,l,d=this,s=[],p=function(e){if(!d._lockValueGet){var t={};s.forEach(function(e){var n=e.value.trim(),i=e.$map[n.toLowerCase()];"undefined"!=typeof i&&(n=i),""!=n&&(t[e.$id]=n)}),d._lockValueSet=!0,d.value=t,d._lockValueSet=!1}},v=0;for(n in t)0==(1&v)&&(u&&r.add(e,u),u=r.div()),v++,i=t[n],l=o(i.type),c=new f({label:i.caption,wide:!0,list:l.list}),"#DATE"==i.type&&(c.type="date"),c.$id=n,c.$map=l.map,s.push(c),a.bind(c,"value",p),r.add(u,r.div([c]));r.add(e,u);var h;for(h=0;h<s.length-1;h++)a.bind(s[h],"action",s[h+1],"focus",{value:!0});return s}function o(e){if("undefined"==typeof e)return d;if(e=c.types[e],"undefined"==typeof e)return d;if(e=e.children,"undefined"==typeof e)return d;var t,n,i=[],o={};for(t in e)n=e[t],i.push(n.caption),o[n.caption.toLowerCase()]=t;return i.sort(),{list:i,map:o}}var u=function(){function t(){return i(n,arguments)}var n={en:{},fr:{}},i=e("$").intl;return t.all=n,t}(),r=e("dom"),a=e("tfw.data-binding"),f=e("wdg.text"),c=e("structure"),l=function(e){var t=this,n=r.elem(this,"div","form"),o=r.div("table");r.add(n,o);var u=i.call(this,o,e);this._lockValueSet=!1,this._lockValueGet=!1,a.prop(this,"value")(function(e){t._lockValueSet||(t._lockValueGet=!0,u.forEach(function(t){t.value=e[t.$id]||""}),t._lockValueGet=!1)}),a.propBoolean(this,"focus")(function(e){e?window.setTimeout(function(){u[0].focus=!0}):u.forEach(function(e){e.focus=!1})}),Object.defineProperty(l.prototype,"keys",{get:function(){var e=[];return u.forEach(function(t){e.push(t.$id)}),e},set:function(e){},configurable:!0,enumerable:!0})},d={list:[],map:{}};t.exports=l,t.exports._=u});
//# sourceMappingURL=form.js.map