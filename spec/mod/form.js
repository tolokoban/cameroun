require("form",function(e,t){function i(){return u(r,arguments)}function n(e,t){var i,n,r,u,l,d=this,s=[],p=function(e){if(!d._lockValueGet){var t={};s.forEach(function(e){var i=e.value.trim(),n=e.$map[i.toLowerCase()];"undefined"!=typeof n&&(i=n),""!=i&&(t[e.$id]=i)}),d._lockValueSet=!0,d.value=t,d._lockValueSet=!1}};for(i in t)n=t[i],l=o(n.type),u=new c({wide:!0,list:l.list}),u.$id=i,u.$map=l.map,s.push(u),r=a.div([a.div([n.caption]),a.div([u])]),a.add(e,r),f.bind(u,"value",p);var v;for(v=0;v<s.length-1;v++)f.bind(s[v],"action",s[v+1],"focus",{value:!0});return s}function o(e){if("undefined"==typeof e)return s;if(e=l.types[e],"undefined"==typeof e)return s;if(e=e.children,"undefined"==typeof e)return s;var t,i,n=[],o={};for(t in e)i=e[t],n.push(i.caption),o[i.caption.toLowerCase()]=t;return n.sort(),{list:n,map:o}}var r={en:{},fr:{}},u=require("$").intl,a=require("dom"),f=require("tfw.data-binding"),c=require("wdg.text"),l=require("structure"),d=function(e){var t=this,i=a.elem(this,"div","form"),o=a.div("table");a.add(i,o);var r=n.call(this,o,e);this._lockValueSet=!1,this._lockValueGet=!1,f.prop(this,"value")(function(e){t._lockValueSet||(t._lockValueGet=!0,r.forEach(function(t){t.value=e[t.$id]||""}),t._lockValueGet=!1)}),f.propBoolean(this,"focus")(function(e){e?window.setTimeout(function(){r[0].focus=!0}):r.forEach(function(e){e.focus=!1})}),Object.defineProperty(d.prototype,"keys",{get:function(){var e=[];return r.forEach(function(t){e.push(t.$id)}),e},set:function(e){},configurable:!0,enumerable:!0})},s={list:[],map:{}};t.exports=d,t.exports._=i});
//# sourceMappingURL=form.js.map