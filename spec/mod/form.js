require("form",function(t,e,i){function o(t,e){var i,o,a,l,f,d=this,s=[],v=function(t){if(!d._lockValueGet){var e={};s.forEach(function(t){var i=t.value.trim(),o=t.$map[i.toLowerCase()];void 0!==o&&(i=o),""!=i&&(e[t.$id]=i)}),d._lockValueSet=!0,d.value=e,d._lockValueSet=!1}},p=0;for(i in e)0==(1&p)&&(a&&r.add(t,a),a=r.div()),p++,o=e[i],f=n(o.type),l=new c({label:o.caption,wide:!0,list:f.list}),"#DATE"==o.type&&(l.type="date"),l.$id=i,l.$map=f.map,s.push(l),u.bind(l,"value",v),r.add(a,r.div([l]));r.add(t,a);var h;for(h=0;h<s.length-1;h++)u.bind(s[h],"action",s[h+1],"focus",{value:!0});return s}function n(t){if(void 0===t)return d;if(t=l.value.types[t],void 0===t)return d;if(t=t.children,void 0===t)return d;var e,i,o=[],n={};for(e in t)i=t[e],o.push(i.caption),n[i.caption.toLowerCase()]=e;return o.sort(),{list:o,map:n}}var a=function(){function e(){return o(i,arguments)}var i={en:{},fr:{}},o=t("$").intl;return e.all=i,e}(),r=t("dom"),u=t("tfw.data-binding"),c=t("wdg.text"),l=t("structure"),f=function(t){var e=this,i=r.elem(this,"div","form"),n=r.div("table");r.add(i,n);var a=o.call(this,n,t);this._lockValueSet=!1,this._lockValueGet=!1,u.prop(this,"value")(function(t){e._lockValueSet||(e._lockValueGet=!0,a.forEach(function(e){e.value=t[e.$id]||""}),e._lockValueGet=!1)}),u.propBoolean(this,"focus")(function(t){t?window.setTimeout(function(){a[0].focus=!0}):a.forEach(function(t){t.focus=!1})}),Object.defineProperty(f.prototype,"keys",{get:function(){var t=[];return a.forEach(function(e){t.push(e.$id)}),t},set:function(t){},configurable:!0,enumerable:!0})},d={list:[],map:{}};e.exports=f,e.exports._=a});
//# sourceMappingURL=form.js.map