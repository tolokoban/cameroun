require("tfw.data-binding",function(n,e,t){function r(){return f(i,arguments)}function o(n,e,r,o){var i="function"==typeof o;"undefined"==typeof e[l]&&(e[l]={}),e[l][r]={value:o,event:new a};var f;f="function"==typeof n?function(t){t=n(t),(i||e[l][r].value!==t)&&(e[l][r].value=t,e[l][r].event.fire(t,e,r))}:function(n){(i||e[l][r].value!==n)&&(e[l][r].value=n,e[l][r].event.fire(n,e,r))};var u=o;return i||(u=function(){return e[l][r].value}),Object.defineProperty(e,r,{get:u,set:f,configurable:!1,enumerable:!0}),t.bind.bind(t,e,r)}var i={en:{}},f=n("$").intl;n("polyfill.string");var u=n("dom"),a=n("tfw.listeners"),l="_tfw.data-binding_",c={castArray:function(n){return Array.isArray(n)?n:[n]},castBoolean:function(n){if("boolean"==typeof n)return n;if("string"==typeof n){if(n=n.trim().toLowerCase(),"1"==n||"true"==n||"yes"==n)return!0;if("0"==n||"false"==n||"no"==n)return!1}return"number"==typeof n?!!n:null},castColor:function(n){return""+n},castEnum:function(n){var e=n.map(String.toLowerCase);return function(t){if("number"==typeof t)return n[Math.floor(t)%n.length];if("string"!=typeof t)return n[0];var r=e.indexOf(t.trim().toLowerCase());return r<0&&(r=0),n[r]}},castInteger:function(n){return"number"==typeof n?Math.floor(n):"boolean"==typeof n?n?1:0:"string"==typeof n?parseInt(n):Number.NaN},castRegexp:function(n){if(n instanceof RegExp)return n;if("string"==typeof n&&0!=n.trim().length)try{return new RegExp(n)}catch(e){console.error("[castRegexp] /"+n+"/ ",e)}return null},castString:function(n){return"string"==typeof n?n:void 0===n||null===n?"":JSON.stringify(n)},castStringArray:function(n){return Array.isArray(n)?n:"string"==typeof n?n.split(",").map(String.trim):[JSON.stringify(n)]},castUnit:function(n){return""+n},castValidator:function(n){if("function"==typeof n)return n;if("boolean"==typeof n)return function(){return n};if("string"==typeof n&&0!=n.trim().length)try{var e=new RegExp(n);return e.test.bind(e)}catch(e){console.error("[castValidator] /"+n+"/ ",e)}return function(){return null}}};t.fire=function(n,e,t){var r=n[e];"undefined"==typeof t&&(t=r),n[l][e].value=t,n[l][e].event.fire(n[e],n,e)},t.set=function(n,e,t){"undefined"==typeof n[l]&&(n[l]={}),"undefined"==typeof n[l][e]&&(n[l][e]={}),n[l][e].value=t},t.get=function(n,e){if("undefined"!=typeof n[l]&&"undefined"!=typeof n[l][e])return n[l][e].value},t.prop=o.bind(null,null),t.propToggleClass=function(n,e,t,r){"string"!=typeof r&&(r="");var i={};"string"==typeof t?i[t]=t:Array.isArray(t)?t.forEach(function(n){i[n]=n}):i=t,o(null,n,e)(function(e){var t,o;for(t in i)o=i[t],t==e?u.addClass(n.element,r+o):u.removeClass(n.element,r+o)})},t.propAddClass=function(n,e,t){"undefined"==typeof t&&(t=e),o(c.castBoolean,n,e)(function(e){e?u.addClass(n.element,t):u.removeClass(n.element,t)})},t.propRemoveClass=function(n,e,t){"undefined"==typeof t&&(t=e),o(c.castBoolean,n,e)(function(e){e?u.removeClass(n.element,t):u.addClass(n.element,t)})},t.propArray=o.bind(null,c.castArray),t.propBoolean=o.bind(null,c.castBoolean),t.propColor=o.bind(null,c.castColor),t.propEnum=function(n){return o.bind(null,c.castEnum(n))},t.propInteger=o.bind(null,c.castInteger),t.propRegexp=o.bind(null,c.castRegexp),t.propString=o.bind(null,c.castString),t.propStringArray=o.bind(null,c.castStringArray),t.propUnit=o.bind(null,c.castUnit),t.propValidator=o.bind(null,c.castValidator),t.bind=function(n,e,t,r,o){if("undefined"==typeof n[l]||"undefined"==typeof n[l][e])throw console.error(e+" is not a bindable property of ",n),Error(e+" is not a bindable property!");"undefined"==typeof o&&(o={}),o.value&&(o.converter=function(){return o.value});var i="function"==typeof t?t:function(n,e,i){t[r]="function"==typeof o.converter?o.converter(n):n};return n[l][e].event.add(i),o},t.extend=function(n,e,t){var r,o,i=JSON.parse(JSON.stringify(n));for(r in e)"$"!=r.charAt(0)&&(o=e[r],"undefined"==typeof i[r]?console.error("[tfw.data-binding.extend] Undefined argument: `"+r+"`!"):i[r]=o);if("undefined"!=typeof t){for(r in e)"$"==r.charAt(0)&&Object.defineProperty(t,r,{value:e[r],writable:!1,configurable:!1,enumerable:!1});for(r in i)"$"!=r.charAt(0)&&(t[r]=i[r])}return i},t.converters=c,e.exports._=r});
//# sourceMappingURL=tfw.data-binding.js.map